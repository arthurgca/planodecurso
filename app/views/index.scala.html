@(planoDeCursoForm: Form[PlanoDeCurso], disciplinasOfertadas: List[Disciplina])

@import helper._

@disciplinaField(field: Field) = {
  <div class="row">
    <div class="disciplina">
      <div class="nome">@field("nome").value</div>
      <div class="descricao">@field("creditos").value créditos</div>
    </div>
  </div>
}

@periodoGroup(field: Field) = {
  <div id="periodo-@{field("semestre").value}" class="col-md-2 periodo">
    <div class="row sumario">
      <h4>@{field("semestre").value}º Período<br/>
        <small>@field("totalCreditos").value créditos</small></h4>
    </div>

    @repeat(field("disciplinas")) { disciplina =>
      @disciplinaField(disciplina)
    }

    <div class="row sumario">
      <h4>@{field("semestre").value}º Período<br/>
        <small>@field("totalCreditos").value créditos</small></h4>
    </div>
  </div>
}

@main("Plano de Curso") {

<div class="container">
  <h2 class="nome-principal">Meu Curso</h2>

  @if(planoDeCursoForm.hasErrors) {
  <div class="alert-message error">
    <p><strong>Oops</strong> Please fix all errors</p>
  </div>
  }

  @helper.form(action = routes.Application.submit, 'id -> "form") {
  <div id="disciplinas-alocadas">
    <div class="row">
      @repeat(planoDeCursoForm("periodos")) { periodo =>
        @periodoGroup(periodo)
      }
    </div>
  </div>
  }

  <h2 class="nome-principal">Disciplinas Ofertadas</h2>

  <div id="disciplinas-ofertadas">
    @for(disciplinasRow <- disciplinasOfertadas.grouped(6)) {
    <div class="row">
      @for(disciplina <- disciplinasRow) {
      <div class="col-md-2">
        <div class="row">
          <div class="disciplina">
            <div class="nome">@disciplina.getNome()</div>
            <div class="descricao">@disciplina.getCreditos() Créditos</div>
          </div>
        </div>
      </div>
      }
    </div>
    }
  </div>

</div>
}
