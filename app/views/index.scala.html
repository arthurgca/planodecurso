@()

@import helper._

@main("Plano de Curso") {
<div class="container">
  <h2 class="nome-principal">Meu Curso</h2>

  <div ng-if="hasErrors()" class="alert alert-danger">
    <strong>Opa!</strong> Corrija esses problemas no seu Plano de Curso:
    <ul>
      <li ng-repeat="error in errors">{{error}}</li>
    </ul>
  </div>

  <div id="disciplinas-alocadas">
    <div class="row">

      <div ng-repeat="periodo in periodos" id="periodo-{{periodo.semestre}}" class="col-md-2 periodo">
        <div class="row sumario">
          <h4>{{periodo.semestre}}º Período<br/>
            <small>{{getTotalCreditos(periodo.semestre)}} créditos</small></h4>
        </div>

        <div ui-sortable="sortableOptions" ng-model="periodo.disciplinas" class="sortable-list">
          <div ng-repeat="disciplina in periodo.disciplinas"
               class="row disciplina {{ disciplina.id }}"
               ng-class="{optativa: disciplina.optativa, tecc: disciplina.tecc}">
            <a ng-click="removeDisciplina(periodo, disciplina.id)" class="close remove" aria-hidden="true">&times;</a>
            <div class="nome">{{ disciplina.nome }}</div>
            <div class="descricao">{{ disciplina.creditos }} créditos</div>
          </div>
        </div>

        <div class="row sumario">
          <h4>{{periodo.semestre}}º Período<br/>
            <small>{{getTotalCreditos(periodo.semestre)}} créditos</small></h4>
        </div>
      </div>
    </div>
  </div>

  <h2 class="nome-principal">Disciplinas Ofertadas</h2>

  <div id="disciplinas-ofertadas" class="row">
    <div ui-sortable="sortableOptions" ng-model="disciplinasOfertadas" class="sortable-list">
      <div class="col-md-2 disciplina {{disciplina.id}}"
           ng-repeat="disciplina in disciplinasOfertadas track by $index"
           ng-class="{optativa: disciplina.optativa, tecc: disciplina.tecc}">
        <div class="nome">{{disciplina.nome}}</div>
        <div class="descricao">{{disciplina.creditos}} Créditos</div>
      </div>
    </div>
  </div>
</div>
}
